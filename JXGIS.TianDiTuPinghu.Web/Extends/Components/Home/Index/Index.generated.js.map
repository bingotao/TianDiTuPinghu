{"version":3,"file":"E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Home\\Index\\Index.jsx","sourceRoot":null,"sources":["E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Home\\Index\\Index.jsx"],"sourcesContent":["class Search extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchText: '',\r\n            active: false\r\n        };\r\n    }\r\n\r\n    search() {\r\n        //console.log(this.state.searchText);\r\n        window.open(encodeURI(_bl_ + '/Map/Map?searchText=' + this.state.searchText));\r\n    }\r\n\r\n    toggleState() {\r\n        this.setState({\r\n            active: !this.state.active\r\n        });\r\n    }\r\n\r\n    clearText() {\r\n        this.setState({\r\n            searchText: ''\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className={\"searchgroup \" + (this.state.active ? \"active\" : \"\")}>\r\n            <input onKeyDown={e=> { if (e.nativeEvent.code == \"Enter\") this.search(); }} onBlur={e=>this.toggleState()} onFocus={e=>this.toggleState()} onChange={e=>this.setState({ searchText: e.target.value })} type=\"text\" placeholder=\"请输入查询关键字\" value={this.state.searchText} />\r\n                <span onClick={e=>this.clearText()} className=\"btnclear anticon anticon-close-circle\"></span>\r\n                <button onClick={e=>this.search()} type=\"button\"><span className=\"anticon anticon-search\"></span></button>\r\n        </div>);\r\n    }\r\n}\r\n\r\nclass News extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    render() {\r\n        var news = this.props.news;\r\n        var cNews = [];\r\n        for (var i = 0, l = news.length; i < l; i++) {\r\n            var title = news[i].Title;\r\n            var url = news[i].Url || '#';\r\n            cNews.push(<div><a className=\"new-a\" target=\"_blank\" href={url }>{title}</a></div>);\r\n        }\r\n        return (\r\n            <div className=\"news\">\r\n                <antd.Row>\r\n                    <antd.Col className=\"gutter-row\" span={4}>\r\n                        <span style={{ lineHeight: \"27px\" }}><span className=\"iconfont icon-laba\"></span> 最新公告：</span>\r\n                    </antd.Col>\r\n                    <antd.Col className=\"gutter-row\" span={20}>\r\n                       <antd.Carousel autoplaySpeed={3000} autoplay={true} dots={false} vertical={true}>\r\n                           {cNews}\r\n                       </antd.Carousel>\r\n                    </antd.Col>\r\n                </antd.Row>\r\n\r\n            </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass Uses extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    render() {\r\n        var uses = this.props.uses;\r\n        var cUses = [];\r\n        for (var i = 0, l = uses.length; i < l; i++) {\r\n            var use = uses[i];\r\n            var url = use.Url || '#';\r\n            var imageUrl = _bl_ + use.ImageUrl;\r\n            var name = use.Name;\r\n            var description = use.Description;\r\n            cUses.push(\r\n            <div>\r\n                <div className=\"app-item\">\r\n                    <a href={url} target=\"_blank\"><img src={imageUrl} /></a>\r\n                    <div>\r\n                        <a title={name} className=\"app-item-title\" href={url} target=\"_blank\">{name}</a>\r\n                        <p title={description }>{description}</p>\r\n                    </div>\r\n                </div>\r\n            </div>);\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"ct-slider-pre\" onClick={e=>this.refs.slider.refs.slick.slickPrev()}>\r\n                <antd.Icon type=\"left\" />\r\n                </div>\r\n                <antd.Carousel ref=\"slider\" autoplaySpeed={3000} autoplay={true} arrows={true} slidesToShow={4} dots={false}>\r\n                    {cUses}\r\n                </antd.Carousel>\r\n                <div className=\"ct-slider-next\" onClick={e=>this.refs.slider.refs.slick.slickNext()}>\r\n                <antd.Icon type=\"right\" />\r\n                </div>\r\n            </div>\r\n            );\r\n    }\r\n}\r\n\r\nfunction init() {\r\n    var cSearch = ReactDOM.render(<Search />, $('#searchgroup')[0]);\r\n    var typicaluse_uses = config.Apps;\r\n    cUses = ReactDOM.render(<Uses uses={typicaluse_uses } />, $('#typicaluse_uses')[0]);\r\n    var cNews = ReactDOM.render(<News news={news } />, $('#news')[0]);\r\n\r\n    //初始化切换说明\r\n    (function () {\r\n        var $sections = $('.section');\r\n        var $lis = $('.apps li');\r\n        var firstIndex = 0;\r\n        var aCls = 'active';\r\n        var autoPlay = true;\r\n        var autoPlayIndex = firstIndex;\r\n        var itemCount = 4;\r\n\r\n        change();\r\n        setInterval(change, 1000 * 7);\r\n\r\n        function change() {\r\n            if (autoPlay) {\r\n                var index = autoPlayIndex % itemCount;\r\n                autoPlayIndex++;\r\n                $sections.removeClass(aCls);\r\n                $($sections.get(index)).addClass(aCls);\r\n            }\r\n        }\r\n\r\n        //鼠标浮上时切换到目标页并停止自动切换\r\n        $lis.hover(function () {\r\n            var index = $lis.index(this);\r\n            $sections.removeClass(aCls);\r\n            $($sections.get(index)).addClass(aCls);\r\n            autoPlay = false;\r\n        }, function () {\r\n            autoPlay = true;\r\n        });\r\n\r\n        //鼠标浮上时停止自动切换\r\n        $sections.hover(function () {\r\n            autoPlay = false;\r\n        }, function () {\r\n            autoPlay = true;\r\n        });\r\n    })();\r\n\r\n    g = {\r\n        search: cSearch,\r\n        uses: cUses,\r\n        news: cNews\r\n    };\r\n}\r\n\r\n$(init);"],"names":[],"mappings":"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"}