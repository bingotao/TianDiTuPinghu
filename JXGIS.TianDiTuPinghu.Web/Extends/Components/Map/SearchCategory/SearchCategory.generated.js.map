{"version":3,"file":"E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Map\\SearchCategory\\SearchCategory.jsx","sourceRoot":null,"sources":["E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Map\\SearchCategory\\SearchCategory.jsx"],"sourcesContent":["class SubItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    click() {\r\n        if (this.props.click)\r\n            this.props.click(this.props.item);\r\n    }\r\n\r\n    render() {\r\n        var item = this.props.item;\r\n        return (<span onClick={(e) =>this.click(e)} className={'subitem ' + (item.sub ? 'subitem-bg' : 'subitem-sm') }>{item.name}</span>);\r\n\r\n    }\r\n}\r\n\r\nclass SearchCategoryItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    render() {\r\n        var item = this.props.item;\r\n        var subs = [];\r\n        for (var i = 0, l = item.sub.length; i < l; i++) {\r\n            subs.push(<SubItem item={ item.sub[i]} click={this.props.click } />);\r\n        }\r\n        return (\r\n        <div className=\"searchcategory-item\">\r\n            <antd.Row>\r\n                <antd.Col span={3}>\r\n                    <img src={_bl_+item.picture} />\r\n                </antd.Col>\r\n                <antd.Col span={21}>\r\n                    <div>\r\n                        <SubItem item={ item } click={this.props.click } />\r\n                    </div>\r\n                    <div>\r\n                        {subs}\r\n                    </div>\r\n                </antd.Col>\r\n            </antd.Row>\r\n        </div>\r\n       );\r\n    }\r\n}\r\n\r\nclass SearchCategoryPanel extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            hidden: true,\r\n            btnClearVisible: false,\r\n            searchText: \"\"\r\n        };\r\n    }\r\n\r\n    btnClick() {\r\n        if (this.props.btnClick)\r\n            this.props.btnClick(this.state.searchText);\r\n    }\r\n\r\n    focus() {\r\n        if (this.state.hidden) {\r\n            var input = this.searchText.refs.input;\r\n            setTimeout(function () {\r\n                input.focus();\r\n            }, 200);\r\n        }\r\n    }\r\n\r\n    toggleHidden() {\r\n        this.setState({\r\n            hidden: !this.state.hidden\r\n        });\r\n    }\r\n\r\n    show() {\r\n        this.setState({\r\n            hidden: false\r\n        });\r\n    }\r\n\r\n    hidden() {\r\n        this.setState({\r\n            hidden: true\r\n        });\r\n    }\r\n\r\n    toggleClearBtn() {\r\n        this.setState({\r\n            btnClearVisible: !this.state.btnClearVisible\r\n        });\r\n    }\r\n\r\n    clearSearchText() {\r\n        this.setState({ searchText: \"\" });\r\n    }\r\n\r\n    render() {\r\n        var categories = this.props.categories;\r\n        var ui = [];\r\n\r\n        for (var i = 0, l = categories.length; i < l; i++) {\r\n            ui.push(<SearchCategoryItem item={categories[i]} click={this.props.click } />);\r\n        };\r\n\r\n        return (\r\n            <div className={\"searchcategory-panel \"+(this.state.hidden?\"\":\"active\")}>\r\n                <div className=\"searchcategory-panel-search\">\r\n                    <antd.Input.Group>\r\n                        <antd.Input ref={(input)=>this.searchText=input} onChange={e=>this.setState({ searchText: e.target.value })} value={this.state.searchText} onFocus={e=>this.toggleClearBtn()} onBlur={e=>this.toggleClearBtn()} size=\"large\" placeholder=\"请输入搜索关键字...\" />\r\n                        <antd.Icon onClick={e=>this.clearSearchText()} className={\"btn-search-clear \" + (this.state.btnClearVisible ?  \"active\" : \"\")} type=\"close-circle\" />\r\n                        <div className=\"ant-input-group-wrap\">\r\n                            <antd.Button onClick={e=>this.btnClick()} type=\"primary\" icon=\"search\" size=\"large\" />\r\n                        </div>\r\n                    </antd.Input.Group>\r\n                </div>\r\n                {ui}\r\n                <div onClick={e=>this.hidden()} className=\"searchcategory-panel-sliderup\">\r\n                    <antd.Icon type=\"caret-up\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}"],"names":[],"mappings":"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"}