{"version":3,"file":"E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Map\\PathPlanning\\DrivingPlanning.jsx","sourceRoot":null,"sources":["E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Map\\PathPlanning\\DrivingPlanning.jsx"],"sourcesContent":["class DrivingPanning extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            extend: true\r\n        }\r\n    }\r\n\r\n    drawRoute(dp) {\r\n        var startPoint = dp.StartPoint;\r\n        var endPoint = dp.EndPoint;\r\n        var path = dp.RoutePath;\r\n\r\n        var p = this.props.parent;\r\n        p.clearMap();\r\n\r\n        var startLayer = L.marker(startPoint, { icon: p.map.icons.startpoint });\r\n        var endLayer = L.marker(endPoint, { icon: p.map.icons.endpoint });\r\n        p.routePath.addLayer(startLayer);\r\n        p.routePath.addLayer(endLayer);\r\n        p.startLayer = startLayer;\r\n        p.endLayer = endLayer;\r\n\r\n        var pathLayer = L.polyline(path, { color: 'red', weight: 5, opacity: 0.8 });\r\n        p.routePath.addLayer(pathLayer);\r\n\r\n        p.drivingLayer = pathLayer;\r\n    }\r\n\r\n    togglePanel() {\r\n        this.setState({\r\n            extend: !this.state.extend\r\n        });\r\n    }\r\n    render() {\r\n        var dp = this.props.plannings;\r\n        var routes = [];\r\n\r\n        if (dp && dp.Routes) {\r\n            var rts = dp.Routes;\r\n            for (var i = 0, l = rts.length; i < l; i++) {\r\n                routes.push(\r\n            <div className=\"driving-panning-item clearfix\">\r\n                <i className=\"anticon\">{i + 1}.</i><span>{rts[i]}</span>\r\n            </div>);\r\n            }\r\n        } else {\r\n            dp = {};\r\n        }\r\n        return (\r\n            <div style={{ display: (dp.Routes ? 'block' : 'none') }} className=\"driving-panning\">\r\n                <div className=\"driving-panning-item driving-panning-start clearfix\" onClick={e=>this.togglePanel()}>\r\n                <span><antd.Icon type={(this.state.extend ? \"minus\" : \"plus\")} /></span>\r\n                <antd.Icon type=\"environment\" /><span className=\"enhance\">起点（<span>{dp.Distance}，{dp.Time}）</span></span>\r\n                </div>\r\n                <div className={\"driving-panning-details \" +(this.state.extend?\"active\":\"\")}>\r\n                    {routes}\r\n                </div>\r\n\r\n                <div className=\"driving-panning-item driving-panning-end clearfix\">\r\n                   <antd.Icon type=\"environment\" /><span className=\"enhance\">终点</span>\r\n                </div>\r\n            </div>\r\n            );\r\n    }\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;IAAM,c;;;AACF,4BAAY,KAAZ,EAAmB;AAAA;;AAAA,sGACT,KADS;;AAEf,cAAK,KAAL,GAAa;AACT,oBAAQ;AADC,SAAb;AAFe;AAKlB;;;;kCAES,E,EAAI;AACV,gBAAI,aAAa,GAAG,UAApB;AACA,gBAAI,WAAW,GAAG,QAAlB;AACA,gBAAI,OAAO,GAAG,SAAd;;AAEA,gBAAI,IAAI,KAAK,KAAL,CAAW,MAAnB;AACA,cAAE,QAAF;;AAEA,gBAAI,aAAa,EAAE,MAAF,CAAS,UAAT,EAAqB,EAAE,MAAM,EAAE,GAAF,CAAM,KAAN,CAAY,UAApB,EAArB,CAAjB;AACA,gBAAI,WAAW,EAAE,MAAF,CAAS,QAAT,EAAmB,EAAE,MAAM,EAAE,GAAF,CAAM,KAAN,CAAY,QAApB,EAAnB,CAAf;AACA,cAAE,SAAF,CAAY,QAAZ,CAAqB,UAArB;AACA,cAAE,SAAF,CAAY,QAAZ,CAAqB,QAArB;AACA,cAAE,UAAF,GAAe,UAAf;AACA,cAAE,QAAF,GAAa,QAAb;;AAEA,gBAAI,YAAY,EAAE,QAAF,CAAW,IAAX,EAAiB,EAAE,OAAO,KAAT,EAAgB,QAAQ,CAAxB,EAA2B,SAAS,GAApC,EAAjB,CAAhB;AACA,cAAE,SAAF,CAAY,QAAZ,CAAqB,SAArB;;AAEA,cAAE,YAAF,GAAiB,SAAjB;AACH;;;sCAEa;AACV,iBAAK,QAAL,CAAc;AACV,wBAAQ,CAAC,KAAK,KAAL,CAAW;AADV,aAAd;AAGH;;;iCACQ;AAAA;;AACL,gBAAI,KAAK,KAAK,KAAL,CAAW,SAApB;AACA,gBAAI,SAAS,EAAb;;AAEA,gBAAI,MAAM,GAAG,MAAb,EAAqB;AACjB,oBAAI,MAAM,GAAG,MAAb;AACA,qBAAK,IAAI,IAAI,CAAR,EAAW,IAAI,IAAI,MAAxB,EAAgC,IAAI,CAApC,EAAuC,GAAvC,EAA4C;AACxC,2BAAO,IAAP,CACJ;AAAA;wBAAA,EAAK,WAAU,+BAAf;wBACI;AAAA;4BAAA,EAAG,WAAU,SAAb;4BAAwB,IAAI,CAA5B;4BAAA;AAAA,yBADJ;wBACuC;AAAA;4BAAA;4BAAO,IAAI,CAAJ;AAAP;AADvC,qBADI;AAIH;AACJ,aARD,MAQO;AACH,qBAAK,EAAL;AACH;AACD,mBACI;AAAA;gBAAA,EAAK,OAAO,EAAE,SAAU,GAAG,MAAH,GAAY,OAAZ,GAAsB,MAAlC,EAAZ,EAAyD,WAAU,iBAAnE;gBACI;AAAA;oBAAA,EAAK,WAAU,qDAAf,EAAqE,SAAS;AAAA,mCAAG,OAAK,WAAL,EAAH;AAAA,yBAA9E;oBACA;AAAA;wBAAA;wBAAM,oBAAC,IAAD,CAAM,IAAN,IAAW,MAAO,KAAK,KAAL,CAAW,MAAX,GAAoB,OAApB,GAA8B,MAAhD;AAAN,qBADA;oBAEA,oBAAC,IAAD,CAAM,IAAN,IAAW,MAAK,aAAhB,GAFA;oBAEgC;AAAA;wBAAA,EAAM,WAAU,SAAhB;wBAAA;wBAA6B;AAAA;4BAAA;4BAAO,GAAG,QAAV;4BAAA;4BAAqB,GAAG,IAAxB;4BAAA;AAAA;AAA7B;AAFhC,iBADJ;gBAKI;AAAA;oBAAA,EAAK,WAAW,8BAA6B,KAAK,KAAL,CAAW,MAAX,GAAkB,QAAlB,GAA2B,EAAxD,CAAhB;oBACK;AADL,iBALJ;gBASI;AAAA;oBAAA,EAAK,WAAU,mDAAf;oBACG,oBAAC,IAAD,CAAM,IAAN,IAAW,MAAK,aAAhB,GADH;oBACmC;AAAA;wBAAA,EAAM,WAAU,SAAhB;wBAAA;AAAA;AADnC;AATJ,aADJ;AAeH;;;;EAhEwB,MAAM,S"}