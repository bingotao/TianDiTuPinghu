{"version":3,"file":"E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Map\\MarkerLabel\\MarkerLabel.jsx","sourceRoot":null,"sources":["E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Map\\MarkerLabel\\MarkerLabel.jsx"],"sourcesContent":["/*\r\n    labelItem 的结构\r\n    {\r\n        id:\"id\",\r\n        content:\"内容\",\r\n        createTime:\"2016年12月2日\",\r\n        x:'',\r\n        y:''\r\n    }\r\n*/\r\n\r\nclass MarkerLabelItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        var i = this.props.labelItem;\r\n        return (\r\n            <div className={\"labelitem \"+(i.layer?'active':'')}>\r\n                <antd.Icon onClick={e=>\r\n                this.props.panel.toggleMapItem(i)} type=\"pushpin\" />\r\n                <antd.Icon onClick={e =>\r\n                    this.props.panel.removeItem(i)} type=\"delete\" />\r\n                <antd.Icon type={i.layer?\"eye\":\"eye-o\"} />\r\n                <p onClick={e=>\r\n                this.props.panel.toggleMapItem(i)} className=\"labelitem-content \">{i.content}</p>\r\n                <p onClick={e=>\r\n                this.props.panel.toggleMapItem(i)} className=\"labelitem-time \">创建于：{i.createTime}</p>\r\n            </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass MarkerLabelPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var map = props.map;\r\n        this.map = map;\r\n        this.storeName = \"mapMarkerLabels\";\r\n        var labelItems = store.get(this.storeName);\r\n\r\n        labelItems = labelItems || [];\r\n\r\n        this.state = {\r\n            labelItems: labelItems\r\n        };\r\n\r\n        var markerFtGroupLayer = L.featureGroup().addTo(map.map);\r\n        this.markerFtGroupLayer = markerFtGroupLayer;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!L.Browser.webkit) {\r\n            var $scroll = this.$scroll;\r\n            if ($scroll) {\r\n                $scroll.mCustomScrollbar(\"scrollTo\", \"top\");\r\n            } else {\r\n                this.$scroll = $('.appcenter .labelitems').mCustomScrollbar({\r\n                    theme: \"dark-blue\",\r\n                    scrollInertia: 0\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    createMarkerOnMap(layer) {\r\n        layer.addTo(this.map.map);\r\n        var content = MarkerLabelMapPopup.create(layer, this);\r\n        var popoup = L.popup({ className: 'markerlabel-popoup' }).setContent(content.dom);\r\n        layer.bindPopup(popoup).openPopup()\r\n    }\r\n\r\n    btnAddClick() {\r\n        this.map.drawControl.setDrawingOptions({\r\n            marker: {\r\n                icon: this.map.icons.markerlabel\r\n            }\r\n        });\r\n        this.map.activateDrawPoint('marker');\r\n    }\r\n\r\n    showAll() {\r\n        var labelItems = this.state.labelItems\r\n        for (var i = 0, l = labelItems.length; i < l; i++) {\r\n            this.showMapItem(labelItems[i], false);\r\n        }\r\n    }\r\n\r\n    hiddenAll() {\r\n        var labelItems = this.state.labelItems\r\n        for (var i = 0, l = labelItems.length; i < l; i++) {\r\n            this.hiddenMapItem(labelItems[i]);\r\n        }\r\n    }\r\n\r\n    addItem(item) {\r\n        //取消popoup绑定\r\n        item.layer.closePopup();\r\n        item.layer.unbindPopup();\r\n        /*\r\n        todo 绑定 tooltip\r\n        */\r\n        var content = MarkerLabelMapTooltip.create(item, this);\r\n        item.layer.bindTooltip(content.dom, { permanent: true, direction: 'right' });\r\n\r\n        this.state.labelItems.push(item);\r\n        this.setState({\r\n            labelItems: this.state.labelItems\r\n        });\r\n\r\n        this.saveMarkerLabelItems();\r\n    }\r\n\r\n    saveMarkerLabelItems() {\r\n        var items = this.state.labelItems;\r\n        var newItems = items.map(function (i) {\r\n            return { id: i.id, content: i.content, createTime: i.createTime, x: i.x, y: i.y };\r\n        });\r\n        store.set(this.storeName, newItems);\r\n    }\r\n\r\n    toggleMapItem(item) {\r\n        item.layer ? this.hiddenMapItem(item) : this.showMapItem(item, true);\r\n    }\r\n\r\n    showMapItem(item, bCenter) {\r\n        var layer = L.GeoJSON.geometryToLayer({\r\n            type: \"Feature\",\r\n            properties: {},\r\n            geometry: {\r\n                type: \"Point\",\r\n                coordinates: [item.x, item.y]\r\n            }\r\n        });\r\n        layer.setIcon(this.map.icons.markerlabel);\r\n        if (bCenter) this.map.map.setView(layer.getLatLng());\r\n\r\n        item.layer = layer.addTo(this.map.map);\r\n        var content = MarkerLabelMapTooltip.create(item, this);\r\n        item.layer.bindTooltip(content.dom, { permanent: true, direction: 'right' });\r\n        this.setState({ labelItems: this.state.labelItems });\r\n    }\r\n\r\n    hiddenMapItem(item) {\r\n        item.layer && item.layer.remove();\r\n        item.layer = null;\r\n        this.setState({ labelItems: this.state.labelItems });\r\n    }\r\n\r\n    removeItem(item) {\r\n        var labelItems = this.state.labelItems;\r\n        var newItems = [];\r\n\r\n        for (var j = 0, l = labelItems.length; j < l; j++) {\r\n            var i = labelItems[j];\r\n            if (i.id == item.id) {\r\n                if (item.layer) item.layer.remove();\r\n                continue;\r\n            }\r\n            newItems.push(i);\r\n        }\r\n        this.setState({ labelItems: newItems });\r\n        this.saveMarkerLabelItems();\r\n    }\r\n\r\n    render() {\r\n        var cLabelItems = [];\r\n\r\n        for (var i = this.state.labelItems.length - 1; i >= 0; i--) {\r\n            cLabelItems.push(<MarkerLabelItem panel={this} labelItem={this.state.labelItems[i] } />);\r\n        }\r\n\r\n        return (\r\n    <div className=\"markerlabelpanel clearfix\">\r\n        <div className=\"clearfix\"><antd.Button type=\"primary\" onClick={e=>this.btnAddClick()}>添加标注</antd.Button></div>\r\n        <div className=\"labelitems\">\r\n            <div>\r\n                {cLabelItems}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n    }\r\n}\r\n\r\nclass MarkerLabelMapPopup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.layer = props.layer;\r\n        this.state = {\r\n            content: null\r\n        };\r\n    }\r\n\r\n    okClick() {\r\n        var content = this.state.content;\r\n        content = content ? content.trim() : '';\r\n        if (!content) {\r\n            _g.fun.showError(\"尚未填写任何标注信息！\");\r\n        }\r\n        else if (content.length > 20) {\r\n            _g.fun.showError(\"标注信息请少于20字！\");\r\n        } else {\r\n            var now = Date.now();\r\n            var date = new Date(now);\r\n            var hours = date.getHours();\r\n            hours = (hours < 10 ? \"0\" : \"\") + hours;\r\n            var minutes = date.getMinutes();\r\n            minutes = (minutes < 10 ? \"0\" : \"\") + minutes;\r\n            var timeString = date.getFullYear() + \"年\" + (date.getMonth() + 1) + \"月\" + date.getDate() + \"日 \" + hours + \":\" + minutes;\r\n            var latlng = this.layer.getLatLng();\r\n            var item = {\r\n                id: now,\r\n                content: this.state.content,\r\n                createTime: timeString,\r\n                x: latlng.lng,\r\n                y: latlng.lat\r\n            };\r\n            item.layer = this.layer;\r\n            this.props.panel.addItem(item);\r\n        }\r\n    }\r\n\r\n    cancelClick() {\r\n        this.layer.remove();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"markerlabel-mappopup\">\r\n            <h4>标注</h4>\r\n            <input ref=\"input\" className=\"ct-input\" placeholder=\"请填写标注内容\" onChange={e=>this.setState({ content: e.target.value })} value={this.state.content} />\r\n            <div className=\"clearfix\">\r\n                <antd.Button onClick={e=>this.cancelClick()}>取消</antd.Button>\r\n                <antd.Button type=\"primary\" onClick={e=>this.okClick()}>确定</antd.Button>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n\r\nMarkerLabelMapPopup.create = function (layer, markerLabelPanel) {\r\n    var dom = document.createElement('div');\r\n    var content = ReactDOM.render(<MarkerLabelMapPopup panel={markerLabelPanel} layer={layer } />, dom);\r\n    content.dom = dom;\r\n    return content;\r\n};\r\n\r\nclass MarkerLabelMapTooltip extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    render() {\r\n        var i = this.props.item;\r\n        return (\r\n            <div className=\"markerlabel-maptooltip\">\r\n               {i.content}\r\n            </div>\r\n            );\r\n    }\r\n}\r\n\r\nMarkerLabelMapTooltip.create = function (item, markerLabelPanel) {\r\n    var dom = document.createElement('div');\r\n    var content = ReactDOM.render(<MarkerLabelMapTooltip panel={markerLabelPanel} item={item } />, dom);\r\n    content.dom = dom;\r\n    return content;\r\n};"],"names":[],"mappings":"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"}