{"version":3,"file":"E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Map\\LayerControl\\LayerControl.jsx","sourceRoot":null,"sources":["E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Map\\LayerControl\\LayerControl.jsx"],"sourcesContent":["class LayerItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            checked: false\r\n        }\r\n    }\r\n\r\n    toggleCheck(){\r\n        this.setState({\r\n            checked:!this.state.checked\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <span onClick={e=>this.toggleCheck()} className={\"layer-item \"+(this.state.checked ?\"active\":\"\")}>\r\n                <span className={\"iconfont \"+(this.state.checked ? \"icon-5\" : \"icon-fangxingweixuanzhong\" )}></span>\r\n                {this.props.name}\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\nclass LayerControl extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(!L.Browser.webkit){\r\n            var $scroll = this.$scroll;\r\n            if ($scroll) {\r\n                $scroll.mCustomScrollbar(\"scrollTo\", \"top\");\r\n            } else {\r\n                this.$scroll = $('.layercontrol .layercontrol-container').mCustomScrollbar({\r\n                    theme: \"dark-blue\",\r\n                    scrollInertia: 0\r\n                });\r\n            }}\r\n    }\r\n\r\n    render() {\r\n        var layers = this.props.layers;\r\n\r\n        function getTreeNodes(data) {\r\n            var nodes = [];\r\n            for (var i = 0, l = data.length; i < l; i++) {\r\n                var item = data[i];\r\n                var node = null;\r\n                if (item.children && item.children.length) {\r\n                    node = <antd.Tree.TreeNode key={item.key} title={item.name }>{getTreeNodes(item.children)}</antd.Tree.TreeNode>;\r\n                } else\r\n                    node = <antd.Tree.TreeNode key={item.key} title={<LayerItem name={item.name}/>} />;\r\n                nodes.push(node);\r\n            }\r\n            return nodes;\r\n        }\r\n\r\n        var nodes = getTreeNodes(layers);\r\n\r\n        return (\r\n            <div className=\"layercontrol\">\r\n                <div className=\"layercontrol-container\">\r\n                    <antd.Tree defaultExpandAll={true} checkable={false}>\r\n                        {nodes}\r\n                    </antd.Tree>\r\n                </div>\r\n            </div>\r\n            );\r\n    }\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;IAAM,S;;;AACF,yBAAc;AAAA;;AAAA;;AAEV,cAAK,KAAL,GAAa;AACT,qBAAS;AADA,SAAb;AAFU;AAKb;;;;sCAEY;AACT,iBAAK,QAAL,CAAc;AACV,yBAAQ,CAAC,KAAK,KAAL,CAAW;AADV,aAAd;AAGH;;;iCAEQ;AAAA;;AACL,mBACI;AAAA;gBAAA,EAAM,SAAS;AAAA,+BAAG,OAAK,WAAL,EAAH;AAAA,qBAAf,EAAsC,WAAW,iBAAe,KAAK,KAAL,CAAW,OAAX,GAAoB,QAApB,GAA6B,EAA5C,CAAjD;gBACI,8BAAM,WAAW,eAAa,KAAK,KAAL,CAAW,OAAX,GAAqB,QAArB,GAAgC,2BAA7C,CAAjB,GADJ;gBAEK,KAAK,KAAL,CAAW;AAFhB,aADJ;AAMH;;;;EArBmB,MAAM,S;;IAwBxB,Y;;;AACF,4BAAc;AAAA;;AAAA;AAEb;;;;6CAEoB;AACjB,gBAAG,CAAC,EAAE,OAAF,CAAU,MAAd,EAAqB;AACjB,oBAAI,UAAU,KAAK,OAAnB;AACA,oBAAI,OAAJ,EAAa;AACT,4BAAQ,gBAAR,CAAyB,UAAzB,EAAqC,KAArC;AACH,iBAFD,MAEO;AACH,yBAAK,OAAL,GAAe,EAAE,uCAAF,EAA2C,gBAA3C,CAA4D;AACvE,+BAAO,WADgE;AAEvE,uCAAe;AAFwD,qBAA5D,CAAf;AAIH;AAAC;AACT;;;iCAEQ;AACL,gBAAI,SAAS,KAAK,KAAL,CAAW,MAAxB;;AAEA,qBAAS,YAAT,CAAsB,IAAtB,EAA4B;AACxB,oBAAI,QAAQ,EAAZ;AACA,qBAAK,IAAI,IAAI,CAAR,EAAW,IAAI,KAAK,MAAzB,EAAiC,IAAI,CAArC,EAAwC,GAAxC,EAA6C;AACzC,wBAAI,OAAO,KAAK,CAAL,CAAX;AACA,wBAAI,OAAO,IAAX;AACA,wBAAI,KAAK,QAAL,IAAiB,KAAK,QAAL,CAAc,MAAnC,EAA2C;AACvC,+BAAO;AAAC,gCAAD,CAAM,IAAN,CAAW,QAAX;4BAAA,EAAoB,KAAK,KAAK,GAA9B,EAAmC,OAAO,KAAK,IAA/C;4BAAuD,aAAa,KAAK,QAAlB;AAAvD,yBAAP;AACH,qBAFD,MAGI,OAAO,oBAAC,IAAD,CAAM,IAAN,CAAW,QAAX,IAAoB,KAAK,KAAK,GAA9B,EAAmC,OAAO,oBAAC,SAAD,IAAW,MAAM,KAAK,IAAtB,GAA1C,GAAP;AACJ,0BAAM,IAAN,CAAW,IAAX;AACH;AACD,uBAAO,KAAP;AACH;;AAED,gBAAI,QAAQ,aAAa,MAAb,CAAZ;;AAEA,mBACI;AAAA;gBAAA,EAAK,WAAU,cAAf;gBACI;AAAA;oBAAA,EAAK,WAAU,wBAAf;oBACI;AAAC,4BAAD,CAAM,IAAN;wBAAA,EAAW,kBAAkB,IAA7B,EAAmC,WAAW,KAA9C;wBACK;AADL;AADJ;AADJ,aADJ;AASH;;;;EA9CsB,MAAM,S"}