{"version":3,"file":"E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Common\\RoutePlanning\\PlanningPanel.jsx","sourceRoot":null,"sources":["E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Common\\RoutePlanning\\PlanningPanel.jsx"],"sourcesContent":["class PlanningPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.planningType = {\r\n            drive: 1,\r\n            bus: 0,\r\n            walk: 2\r\n        };\r\n\r\n        this.eventList = {\r\n            startEndToggle: 'startEndToggle',\r\n            planningTypeSelected: 'planningTypeSelected',\r\n            startPointSetted: 'startPointSetted',\r\n            endPointSetted: 'endPointSetted',\r\n            quickSearchPanelToggled: 'quickSearchPanelToggled',\r\n            quickSearchResultsSetted: 'quickSearchResultsSetted',\r\n            resultPanelToggled: 'resultPanelToggled',\r\n            allCleared: 'allCleared',\r\n            tripModeSelected: 'tripModeSelected',\r\n            routeResultSetted: 'routeResultSetted',\r\n            buslineClick: 'buslineClick',\r\n            busSublineClick: 'busSublineClick'\r\n        };\r\n\r\n        this.tripMode = {\r\n            lessTime: 1,\r\n            lessTransfer: 2,\r\n            lessWalk: 4,\r\n            noSubway: 8,\r\n            lessTime2: 0,\r\n            lessDistance: 1,\r\n            lessHighway: 2,\r\n            onlyWalk: 3\r\n        };\r\n\r\n        this.planning = {\r\n            icons: {\r\n                start: L.divIcon({ className: 'rt-icons-start', iconSize: [24, 42], iconAnchor: [12, 40], popupAnchor: [0, -40] }),\r\n                end: L.divIcon({ className: 'rt-icons-end', iconSize: [24, 42], iconAnchor: [12, 40], popupAnchor: [0, -40] }),\r\n                busStation: L.divIcon({ className: 'rt-icons-station', iconSize: [22, 21], popupAnchor: [0, -15] })\r\n            },\r\n            lineStyle: {\r\n                lineDefault: {\r\n                    color: '#f26161',\r\n                    weight: 4\r\n                },\r\n                lineWalk: {\r\n                    color: '#47a2fd',\r\n                    weight: 5,\r\n                    dashArray: '5,8'\r\n                },\r\n                activeLine: {\r\n                    color: '#1eb739',\r\n                    weight: 5\r\n                }\r\n            },\r\n            map: this.props.map.map,\r\n            start: null,\r\n            end: null,\r\n            busLines: [],\r\n            driveLine: null,\r\n            stations: [],\r\n            activeLine: null\r\n        };\r\n\r\n        this.currentFocus = null;\r\n\r\n        this.state = {\r\n            planningType: this.planningType.drive,//drive,bus,walk\r\n            tripMode: 0,\r\n            start: {\r\n                point: null,\r\n                name: _const_.ept,\r\n                focus: false\r\n            },\r\n            end: {\r\n                point: null,\r\n                name: _const_.ept,\r\n                focus: false\r\n            },\r\n            quickSearchPanel: {\r\n                show: false,\r\n                results: null\r\n            },\r\n            resultPanel: {\r\n                show: false,\r\n                results: null\r\n            }\r\n        };\r\n\r\n        this._funsBind([\r\n            'startEndToggle', 'quickSearchResultItemClick', 'getRoutePlanning', 'buslineClick',\r\n            'setMapStart', 'setMapEnd', 'busSublineClick']);\r\n    }\r\n\r\n    setMap(map) {\r\n        this.planning.map = map;\r\n    }\r\n\r\n    startEndToggle(callback) {\r\n        this.setState(\r\n            (s, p) => {\r\n                return {\r\n                    start: s.end,\r\n                    end: s.start\r\n                };\r\n            },\r\n            (e=> {\r\n                var s = this.state;\r\n                var r = callback && callback.bind(this)({ start: s.start, end: s.end });\r\n                if (r !== false) {\r\n                    this.fire(\"startEndToggle\",\r\n                    {\r\n                        start: s.start,\r\n                        end: s.end\r\n                    }, false);\r\n                }\r\n            }).bind(this));\r\n    }\r\n\r\n    selectPlanningType(planningType, callback) {\r\n        var s = this.state;\r\n        var ns = { planningType: planningType };\r\n\r\n        switch (planningType) {\r\n            case this.planningType.bus:\r\n                ns.tripMode = this.tripMode.lessTime;\r\n                break;\r\n            case this.planningType.drive:\r\n                ns.tripMode = this.tripMode.lessTime2;\r\n                break;\r\n            case this.planningType.walk:\r\n                ns.tripMode = this.tripMode.onlyWalk;\r\n                break;\r\n        }\r\n        this.setState(\r\n            this._getUpdateStateFun(ns)\r\n            , e=> {\r\n                var s = this.state;\r\n                var args = {\r\n                    planningType: s.planningType,\r\n                    tripMode: s.tripMode\r\n                };\r\n                var r = callback && callback.bind(this)(args);\r\n                if (r !== false) {\r\n                    this.fire(\"planningTypeSelected\", args, false);\r\n                }\r\n            });\r\n    }\r\n\r\n    setStart(start, callback) {\r\n        this.setState(\r\n            this._getUpdateStateFun({ start: start }),\r\n            (e=> {\r\n                var r = callback && callback.bind(this)(this.state.start);\r\n                if (r !== false) this.fire('startPointSetted', this.state.start, false);\r\n            }));\r\n    }\r\n\r\n    setEnd(end, callback) {\r\n        this.setState(\r\n            this._getUpdateStateFun({ end: end }),\r\n            (e=> {\r\n                var r = callback && callback.bind(this)(this.state.end);\r\n                if (r !== false) this.fire('endPointSetted', this.state.end, false);\r\n            }));\r\n    }\r\n\r\n    clearStart(focus) {\r\n        var start = this.state.start;\r\n        start.name = '';\r\n        start.point = null;\r\n        this.setStart(\r\n            start,\r\n            (e=> {\r\n                focus && this.focusStart();\r\n                return false;\r\n            }));\r\n    }\r\n\r\n    clearEnd(focus) {\r\n        var end = this.state.end;\r\n        end.name = '';\r\n        end.point = null;\r\n        this.setEnd(\r\n            end,\r\n            e=> {\r\n                focus && this.focusEnd();\r\n                return false;\r\n            });\r\n    }\r\n\r\n    focusStart() {\r\n        this.refs.start.input.refs.input.focus();\r\n        this.currentFocus = \"start\";\r\n    }\r\n\r\n    focusEnd() {\r\n        this.refs.end.input.refs.input.focus();\r\n        this.currentFocus = \"end\";\r\n    }\r\n\r\n    toggleQuickSearchPanel(show, callback) {\r\n        var qsp = this.state.quickSearchPanel;\r\n        qsp.show = show === true || show === false ? show : !qsp.show;\r\n\r\n        this.setState(\r\n            this._getUpdateStateFun({ quickSearchPanel: qsp }),\r\n            (e=> {\r\n                var show = this.state.quickSearchPanel.show;\r\n                var r = callback && callback.bind(this)(show);\r\n                if (r !== false) this.fire('quickSearchPanelToggled', { show: show }, false);\r\n            }\r\n        ).bind(this));\r\n    }\r\n\r\n    addQuickSearchResults(items, callback) {\r\n        var quickSearchPanel = this.state.quickSearchPanel;\r\n        quickSearchPanel.results = items;\r\n\r\n        this.setState(\r\n            this._getUpdateStateFun({ quickSearchPanel: quickSearchPanel }),\r\n            e=> {\r\n                var rt = callback && callback.bind(this)({ items: items });\r\n                if (rt !== false) {\r\n                    this.fire('quickSearchResultsSetted', { items: items }, false);\r\n                }\r\n            });\r\n    }\r\n\r\n    toggleResultPanel(show, callback) {\r\n        var rp = this.state.resultPanel;\r\n        callback = callback && callback.bind(this);\r\n        rp.show = show === true || show === false ? show : !rp.show;\r\n\r\n        this.setState(\r\n            this._getUpdateStateFun({ resultPanel: rp }),\r\n            (e=> {\r\n                var show = this.state.resultPanel.show;\r\n                var r = callback && callback(show);\r\n                if (r !== false) this.fire('resultPanelToggled', { show: show }, false);\r\n            }\r\n        ).bind(this));\r\n    }\r\n\r\n    clearAll(callback) {\r\n        var s = this.state;\r\n        var start = s.start;\r\n        var end = s.end;\r\n        start.name = '';\r\n        start.point = null;\r\n        end.name = '';\r\n        end.point = null;\r\n\r\n        s.resultPanel.results = null;\r\n        var resultPanel = s.resultPanel;\r\n        this.clearMapRoutePlanning();\r\n\r\n        this.setState(\r\n            this._getUpdateStateFun({\r\n                start: start,\r\n                end: end,\r\n                resultPanel: resultPanel\r\n            }),\r\n            e=> {\r\n                var rt = callback && callback.bind(this)(this);\r\n                if (rt !== false)\r\n                    this.fire('allCleared', { context: this }, false);\r\n            });\r\n    }\r\n\r\n    clearResults(callback) {\r\n        this.clearAll(callback);\r\n    }\r\n\r\n    getPOI(text) {\r\n        antd.message.info('正在搜索...');\r\n        this._getPOI(text, function (rt) {\r\n            /*\r\n            var records = rt.records;\r\n            records = records && records.length && records[0].name ? records : [];\r\n            if (records) {\r\n                this.refs.quickSearchPanel.scrollTop = 0;\r\n                this.toggleQuickSearchPanel(true);\r\n                this.addQuickSearchResults(records);\r\n            }*/\r\n            if (rt.ErrorMessage) {\r\n                antd.message.error(rt.ErrorMessage);\r\n            } else {\r\n                var rows = rt.Data.rows;\r\n                this.refs.quickSearchPanel.scrollTop = 0;\r\n                this.toggleQuickSearchPanel(true);\r\n                this.addQuickSearchResults(rows);\r\n            }\r\n        });\r\n    }\r\n\r\n    _getPOI(text, callback) {\r\n        $.post(this.props.fetchUrl, { keyWord: text }, callback.bind(this), 'json');\r\n    }\r\n\r\n    quickSearchResultItemClick(poi) {\r\n        this.currentFocus == \"start\" ?\r\n            this.setStart({ name: poi.SHORTNAME, point: { x: poi.X, y: poi.Y } }) :\r\n            this.setEnd({ name: poi.SHORTNAME, point: { x: poi.X, y: poi.Y } });\r\n        this.toggleQuickSearchPanel(false);\r\n    }\r\n\r\n    selectTripMode(tripMode, callback) {\r\n        this.setState(\r\n            this._getUpdateStateFun({ tripMode: tripMode }),\r\n            e=> {\r\n                var args = {\r\n                    planningType: this.state.planningType,\r\n                    tripMode: tripMode\r\n                };\r\n                var rt = callback && callback.bind(this)(args);\r\n                if (rt !== false) this.fire('tripModeSelected', args, false);\r\n            });\r\n    }\r\n\r\n    getRoutePlanning() {\r\n        var s = this.state;\r\n        var start = s.start;\r\n        var end = s.end;\r\n        if (\r\n            start.point && start.point.x\r\n            &&\r\n            end.point && end.point.x\r\n        ) {\r\n            var condition = {\r\n                startName: start.name,\r\n                endName: end.name,\r\n                start: start,\r\n                end: end,\r\n                planningType: s.planningType,\r\n                tripMode: s.tripMode\r\n            };\r\n            this._getRoutePlanning(condition);\r\n        }\r\n    }\r\n\r\n    _getRoutePlanning(condition) {\r\n        antd.message.info('路径规划中...');\r\n        $.post('../Common/GetRoute', condition, function (rt) {\r\n            this.clearMapRoutePlanning();\r\n\r\n            var lines = rt.results && rt.results.length && rt.results[0].lines;\r\n            this.setRoutePlanningResult(condition, lines || rt.result);\r\n            this.toggleResultPanel(true);\r\n            if (lines) {\r\n                this.buslineClick(1, lines[0]);\r\n            } else {\r\n                this.setMapDriveRoute(rt.result);\r\n            }\r\n        }.bind(this), 'json');\r\n    }\r\n\r\n    setRoutePlanningResult(condition, routeResult, callback) {\r\n        this.condition = condition;\r\n        var resultPanel = this.state.resultPanel;\r\n        resultPanel.results = routeResult;\r\n        this.setState(\r\n            this._getUpdateStateFun({ resultPanel: resultPanel }),\r\n            e=> {\r\n                var args = { routeResult: routeResult };\r\n                var r = callback && callback.bind(this)(args);\r\n                if (r !== false)\r\n                    this.fire('routeResultSetted', args, false);\r\n            }\r\n        );\r\n    }\r\n\r\n    getBusResults(lines) {\r\n        return lines.map(function (item, index) {\r\n            if (index === 0) { item.active = true; }\r\n            return (\r\n                    <BusLine1 ref={\"bus\" + (index + 1)} index={index + 1} busline={item} buslineClick={this.buslineClick} busSublineClick={this.busSublineClick} />\r\n                );\r\n        }.bind(this));\r\n    }\r\n\r\n    busSublineClick(item) {\r\n        this.setActiveSubline(item);\r\n        this.fire(this.eventList.busSublineClick, { busSubline: item }, false);\r\n    }\r\n\r\n    getRouteResults() {\r\n        var rlt = this.state.resultPanel.results;\r\n        if (rlt) {\r\n            if (this.condition.planningType === this.planningType.bus) {\r\n                return this.getBusResults(rlt);\r\n            } else {\r\n                return this.getDriveOrWalkResults(rlt);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    routeItemClick(item) {\r\n        this.setMapActiveLine(item);\r\n    }\r\n\r\n    getDriveOrWalkResults(result) {\r\n        var cItems = '';\r\n        if (result.simple !== '') {\r\n            if (is.array(result.simple.item)) {\r\n                cItems = result.simple.item.map(function (item, index) {\r\n                    return <div onClick={e=>this.routeItemClick(item)} className=\"rt-item\"><span>{index + 1}</span>{item.strguide}</div>\r\n                }.bind(this));\r\n                }\r\n                else {\r\n                    var item = result.simple.item;\r\n                    cItems = [<div onClick={e=>this.routeItemClick(item)} className=\"rt-item\"><span>{1}</span>{item.strguide}</div>];\r\n                }\r\n            }\r\n\r\n        return (\r\n        <div className=\"driveorwalkresult\">\r\n            <div className=\"rt-start\">起点：{this.condition.startName}</div>\r\n            {cItems}\r\n            <div className=\"rt-end\">终点：{this.condition.endName}</div>\r\n        </div>);\r\n    }\r\n\r\n    setMapDriveRoute(result) {\r\n        var orig = result.orig.split(',');\r\n        var dest = result.dest.split(',');\r\n\r\n        var routelatlons = result.routelatlon.split(';').map(function (c) {\r\n            var s = c.split(',');\r\n            return [parseFloat(s[1]), parseFloat(s[0])];\r\n        });\r\n\r\n        routelatlons.length--;\r\n\r\n        var start = L.latLng(parseFloat(orig[1]), parseFloat(orig[0]));\r\n        var end = L.latLng(parseFloat(dest[1]), parseFloat(dest[0]));\r\n\r\n        this.setMapStart(start, this.condition.startName);\r\n        this.setMapEnd(end, this.condition.endName);\r\n        this._setMapDriveLine(routelatlons);\r\n    }\r\n\r\n    buslineClick(index, busline) {\r\n        for (var i in this.refs) {\r\n            if (i.indexOf('bus') > -1) {\r\n                this.refs[i].setState((s, p) => { return { active: false, close: true } });\r\n            }\r\n        }\r\n        this.refs['bus' + index].setState((s, p) => { return { active: true, close: false } });\r\n\r\n        this._setMapBusline(busline);\r\n\r\n        this.fire('buslineClick', { busline: busline }, false);\r\n    }\r\n\r\n    clearMapStart() {\r\n        this.planning.start && this.planning.start.remove();\r\n        this.planning.start = null;\r\n    }\r\n\r\n    setMapStart(point, name) {\r\n        this.clearMapStart();\r\n        var pl = this.planning;\r\n        pl.start = L.marker(point, { icon: pl.icons.start, zIndexOffset: 999999 }).bindPopup(name, { className: 'rt-popup-name' }).addTo(pl.map);\r\n    }\r\n\r\n    clearMapEnd() {\r\n        this.planning.end && this.planning.end.remove();\r\n        this.planning.end = null;\r\n    }\r\n\r\n    setMapEnd(point, name) {\r\n        this.clearMapEnd();\r\n        var pl = this.planning;\r\n        pl.end = L.marker(point, { icon: pl.icons.end, zIndexOffset: 999999 }).bindPopup(name, { className: 'rt-popup-name' }).addTo(pl.map);\r\n    }\r\n\r\n    clearMapActiveLine() {\r\n        this.planning.activeLine && this.planning.activeLine.remove();\r\n        this.planning.activeLine = null;\r\n    }\r\n\r\n    clearMapBusLines() {\r\n        this.planning.busLines && this.planning.busLines.forEach(function (layer, index) { layer.remove(); });\r\n        this.planning.busLines = null;\r\n    }\r\n\r\n    clearStations() {\r\n        this.planning.stations && this.planning.stations.forEach(function (layer, index) { layer.remove(); });\r\n        this.planning.stations = null;\r\n    }\r\n\r\n    clearMapRoutePlanning() {\r\n        this.clearMapStart();\r\n        this.clearMapEnd();\r\n        this.clearMapActiveLine();\r\n        this.clearMapBusLines();\r\n        this.clearMapDriveLine();\r\n        this.clearStations();\r\n    }\r\n\r\n    setMapActiveLine(item) {\r\n        this.clearMapActiveLine();\r\n\r\n        var line = item.streetLatLon.split(';').map(function (c) {\r\n            var s = c.split(',');\r\n            return [parseFloat(s[1]), parseFloat(s[0])];\r\n        });\r\n\r\n        line.length--;\r\n\r\n        var pl = this.planning;\r\n        pl.activeLine = L.polyline(line, pl.lineStyle.activeLine).addTo(pl.map);\r\n    }\r\n\r\n    setActiveSubline(item) {\r\n        this.clearMapActiveLine();\r\n        var line = item.segmentLine[0].linePoint.split(';').map(function (c) {\r\n            var s = c.split(',');\r\n            return [parseFloat(s[1]), parseFloat(s[0])];\r\n        });\r\n\r\n        line.length--;\r\n\r\n        var pl = this.planning;\r\n        pl.activeLine = L.polyline(line, pl.lineStyle.activeLine).addTo(pl.map);\r\n\r\n    }\r\n\r\n    _setMapBusline(busline) {\r\n        this.clearMapBusLines();\r\n        this.clearStations();\r\n        this.clearMapActiveLine();\r\n\r\n        var start = this.condition.start;\r\n        var end = this.condition.end;\r\n\r\n        this.setMapStart([start.point.y, start.point.x], start.name);\r\n        this.setMapEnd([end.point.y, end.point.x], end.name);\r\n\r\n        var pl = this.planning;\r\n        var bls = [];\r\n        var sts = [];\r\n\r\n        var segments = busline.segments;\r\n        for (var i = 0, l = segments.length; i < l ; i++) {\r\n            var seg = segments[i];\r\n            var lineStyle = seg.segmentType == 1 ? pl.lineStyle.lineWalk : pl.lineStyle.lineDefault;\r\n\r\n            var linePoint = seg.segmentLine[0].linePoint;\r\n\r\n            var linePoints = linePoint.split(';').map(function (c) {\r\n                var s = c.split(',');\r\n                return [parseFloat(s[1]), parseFloat(s[0])];\r\n            });\r\n\r\n            linePoints.length--;\r\n\r\n            var bl = L.polyline(linePoints, lineStyle).addTo(pl.map);\r\n            bls.push(bl);\r\n            if (i !== l - 1) {\r\n                var lonlat = seg.stationEnd.lonlat;\r\n                var pnt = lonlat.split(',');\r\n                pnt = [pnt[1], pnt[0]];\r\n                var st = L.marker(pnt, { icon: pl.icons.busStation }).bindPopup(seg.stationEnd.name, { className: 'rt-popup-name' }).addTo(pl.map);\r\n                sts.push(st);\r\n            }\r\n        }\r\n\r\n        pl.busLines = bls;\r\n        pl.stations = sts;\r\n\r\n    }\r\n\r\n    clearMapDriveLine() {\r\n        this.planning.driveLine && this.planning.driveLine.remove();\r\n        this.planning.driveLine = null;\r\n    }\r\n\r\n    _setMapDriveLine(coordinates) {\r\n        this.clearMapDriveLine();\r\n        var pl = this.planning;\r\n        pl.driveLine = L.polyline([coordinates], pl.lineStyle.lineDefault).addTo(pl.map);\r\n    }\r\n\r\n    centerMapPoint(point) {\r\n        this.planning.map.setView(point);\r\n    }\r\n\r\n    centerExtent(extent) {\r\n        this.planning.map.fitBounds(extent);\r\n    }\r\n\r\n    componentDidMount() {\r\n        var evts = this.eventList;\r\n        this.on([\r\n            evts.startEndToggle,\r\n            evts.startPointSetted,\r\n            evts.endPointSetted,\r\n            evts.planningTypeSelected,\r\n            evts.tripModeSelected], this.getRoutePlanning);\r\n\r\n        this.on(evts.startPointSetted, e=> {\r\n            var pnt = [e.data.point.y, e.data.point.x];\r\n            this.setMapStart(pnt, e.data.name);\r\n            e.data.center !== false && this.centerMapPoint(pnt);\r\n        });\r\n\r\n        this.on(evts.endPointSetted, e=> {\r\n            var pnt = [e.data.point.y, e.data.point.x];\r\n            this.setMapEnd(pnt, e.data.name);\r\n            e.data.center !== false && this.centerMapPoint(pnt);\r\n        });\r\n\r\n        this.on(evts.startEndToggle, e=> {\r\n            e.data.start.point && this.setMapStart([e.data.start.point.y, e.data.start.point.x], e.data.start.name);\r\n            e.data.start.point && this.setMapEnd([e.data.end.point.y, e.data.end.point.x], e.data.end.name);\r\n        });\r\n\r\n        this.on([evts.routeResultSetted, evts.buslineClick], e=> {\r\n            var start = this.condition.start.point;\r\n            var end = this.condition.end.point;\r\n\r\n            this.centerExtent([\r\n                [start.y, start.x], [end.y, end.x]\r\n            ]);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        var atv = _const_.atv;\r\n        var ept = _const_.ept;\r\n\r\n        var s = this.state;\r\n        var start = s.start;\r\n        var end = s.end;\r\n\r\n        var cQuickSearchResults = s.quickSearchPanel.results && s.quickSearchPanel.results.map(function (c, i) {\r\n            return <QuickSearchResultItem1 onClick={this.quickSearchResultItemClick} poi={c } />;\r\n        }.bind(this));\r\n\r\n        cQuickSearchResults = (cQuickSearchResults && cQuickSearchResults.length) ? cQuickSearchResults : (<div className=\"quicksearchresultnotfound\">未找到相应结果</div>);\r\n\r\n        var cTripMode = null;\r\n\r\n        switch (s.planningType) {\r\n            case this.planningType.drive:\r\n                cTripMode =\r\n                <ul>\r\n                    <li className={this._getClass(s.tripMode === 0)} onClick={e=> { this.selectTripMode(0) }}>推荐路线</li>\r\n                    <li className={this._getClass(s.tripMode === 1)} onClick={e=> { this.selectTripMode(1) }}>路程最短</li>\r\n                    <li className={this._getClass(s.tripMode === 2)} onClick={e=> { this.selectTripMode(2) }}>少走高速</li>\r\n                </ul>;\r\n                break;\r\n            case this.planningType.bus:\r\n                cTripMode =\r\n                <ul>\r\n                    <li className={this._getClass(s.tripMode === 1)} onClick={e=> { this.selectTripMode(1) }}>推荐路线</li>\r\n                    <li className={this._getClass(s.tripMode === 2)} onClick={e=> { this.selectTripMode(2) }}>少换乘</li>\r\n                    <li className={this._getClass(s.tripMode === 4)} onClick={e=> { this.selectTripMode(4) }}>少步行</li>\r\n                </ul>;\r\n                break;\r\n            case this.planningType.walk:\r\n                <ul></ul>\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        var cRouteResult = this.getRouteResults();\r\n\r\n        return (\r\n            <div className=\"planningpanel\">\r\n                <ul className=\"pp-type\">\r\n                    <li onClick={e=>this.selectPlanningType(this.planningType.drive)} className={this._getClass(s.planningType == this.planningType.drive)}><span className=\"iconfont icon-car\"></span>驾车</li>\r\n                    <li onClick={e=>this.selectPlanningType(this.planningType.bus)} className={this._getClass(s.planningType == this.planningType.bus)}><span className=\"iconfont icon-gongjiao\"></span>公交</li>\r\n                    <li onClick={e=>this.selectPlanningType(this.planningType.walk)} className={this._getClass(s.planningType == this.planningType.walk)}><span className=\"iconfont icon-iconfontjiaotongiconwalk\"></span>步行</li>\r\n                </ul>\r\n                <div className=\"pp-inputs\">\r\n                    <div>\r\n                        <div><antd.Input.Search ref='start' placeholder=\"搜索 起点，或在地图上选择起点...\" onBlur={e=> { this.state.start.focus = false; this.setState({ start: this.state.start }); }} onFocus={e=> { this.state.start.focus = true; this.setState(this.state); this.focusStart(); }} onChange={e=> { var value = e.target.value; s.start.name = value; s.start.point = null; this.setState({start:s.start}); }} onSearch={e=> this.getPOI(e)} value={start.name } /><antd.Icon onClick={e=> { this.clearStart(true) }} type={\"close-circle \" + this._getClass(s.start.focus) } /></div>\r\n                        <div><antd.Input.Search ref='end' placeholder=\"搜索 终点，或在地图上选择终点...\" onBlur={e=> { this.state.end.focus = false; this.setState({ end: this.state.end }); }} onFocus={e=> { this.state.end.focus = true; this.setState(this.state); this.focusEnd(); }} onChange={e=> { var value = e.target.value; s.end.name = value; s.end.point = null; this.setState({ end: s.end }); }} onSearch={e=> this.getPOI(e)} value={end.name } /><antd.Icon onClick={e=> { this.clearEnd(true) }} type={\"close-circle \" + this._getClass(s.end.focus)} /></div>\r\n                    </div>\r\n                    <antd.Tooltip placement={\"right\"} title={\"起始点切换\"}>\r\n                        <antd.Icon type=\"swap\" onClick={e=>this.startEndToggle()} />\r\n                    </antd.Tooltip>\r\n                </div>\r\n                <div ref=\"quickSearchPanel\" className={\"pp-quicksearchpanel \" + this._getClass(s.quickSearchPanel.show)}>\r\n                    {cQuickSearchResults}\r\n                </div>\r\n                <div className={\"pp-resultpanel \" + this._getClass(s.resultPanel.show)}>\r\n                <div className=\"tripmode\">\r\n                    {cTripMode}\r\n                </div>\r\n                <div className=\"pp-routeresults\">\r\n                    {cRouteResult}\r\n                </div>\r\n                </div>\r\n            </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass QuickSearchResultItem1 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        var poi = this.props.poi;\r\n        return (\r\n        <div onClick={e=>this.props.onClick(poi)} className=\"quicksearchresultitem\">\r\n            <antd.Icon type=\"environment\" />{poi.SHORTNAME}<span>{poi.STYLENAME}</span>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass BusLine1 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            close: false,\r\n            active: false\r\n        };\r\n        this._funsBind(['click']);\r\n    }\r\n\r\n    click() {\r\n        this.props.buslineClick(this.props.index, this.props.busline);\r\n    }\r\n\r\n    busSublineClick(item) {\r\n        this.props.busSublineClick(item);\r\n    }\r\n\r\n    toggleDetailPanel(close) {\r\n        close = close === undefined ? !this.state.close : !!close;\r\n        if (!close) {\r\n            this.click(this.props.index, this.props.busline);\r\n        }\r\n        this.setState({ close: close });\r\n    }\r\n\r\n    render() {\r\n        var s = this.state;\r\n        var close = s.close;\r\n        var atv = s.active;\r\n        var props = this.props;\r\n\r\n        var busline = props.busline;\r\n\r\n        var cBuslineName = busline.lineName.split('|').map(\r\n                           function (name, index) {\r\n                               return <span>{name}</span>;\r\n                           });\r\n        var cBuslineDetails = busline.segments.map(\r\n            function (item, index) {\r\n                switch (item.segmentType) {\r\n                    case 1:\r\n                        return <div onClick={e=>this.busSublineClick(item)} className=\"busline-details-item\"><span className=\"iconfont icon-iconfontjiaotongiconwalk\"></span><div>步行至<span>{item.stationEnd.name || '目的地'}</span></div></div>;\r\n                        break;\r\n                    default:\r\n                        return <div onClick={e=>this.busSublineClick(item)} className=\"busline-details-item\"><span className=\"iconfont icon-gongjiao\"></span><div>从<span>{item.stationStart.name}</span>上车乘坐<span>{item.segmentLine[0].lineName}</span>至<span>{item.stationEnd.name}</span>下车</div></div>;\r\n                        break;\r\n                }\r\n            }.bind(this));\r\n\r\n        return (\r\n        <div className={\"busline \" + this._getClass(atv)}>\r\n            <div className=\"busline-name\" onClick={this.click}>\r\n                <span>线路 {props.index}</span>\r\n                <div>{cBuslineName}</div>\r\n                <antd.Tooltip placement='right' title={close?\"详情\":\"收起\"}>\r\n                <antd.Icon onClick={e=> { e.stopPropagation(); e.nativeEvent.stopImmediatePropagation(); this.toggleDetailPanel(); }} type={close ? \"down\" : \"up\" } />\r\n                </antd.Tooltip>\r\n            </div>\r\n            <div className={\"busline-details \"+this._getClass(!close)}>\r\n                {cBuslineDetails}\r\n            </div>\r\n        </div>);\r\n    }\r\n}"],"names":[],"mappings":"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"}