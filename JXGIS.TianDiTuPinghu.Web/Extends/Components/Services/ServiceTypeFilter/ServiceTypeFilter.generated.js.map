{"version":3,"file":"E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Services\\ServiceTypeFilter\\ServiceTypeFilter.jsx","sourceRoot":null,"sources":["E:\\工作\\Code\\07 天地图·平湖\\TianDiTu-PingHu - 副本\\JXGIS.TianDiTuPinghu.Web\\Extends\\Components\\Services\\ServiceTypeFilter\\ServiceTypeFilter.jsx"],"sourcesContent":["class ServiceTypeFilterItem extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            selected: false\r\n        };\r\n    }\r\n\r\n    change() {\r\n        this.props.search();\r\n    }\r\n\r\n    isSelected() {\r\n        return this.state.selected;\r\n    }\r\n\r\n    selectItem() {\r\n        if (!this.state.selected) {\r\n            this.state.selected = true;\r\n            this.change();\r\n            this.setState({ selected: true });\r\n        }\r\n    }\r\n\r\n    unselectItem() {\r\n        if (this.state.selected) {\r\n            this.state.selected = false;\r\n            this.change();\r\n            this.setState({ selected: false });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var filter = this.props.filter;\r\n        var name = filter.name;\r\n\r\n        return (\r\n            <div className={\"servicetype-filter-item \"+(this.state.selected?'active':'')}>\r\n                <span onClick={this.selectItem.bind(this)}>\r\n                    {name}\r\n                </span>\r\n                <antd.Icon onClick={this.unselectItem.bind(this)} type=\"close-circle\" />\r\n            </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass ServiceTypeFilter extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n    }\r\n\r\n    getCategories() {\r\n        var categories = [];\r\n        for (var name in this.refs) {\r\n            if (name.startsWith(\"filter\")) {\r\n                var ref = this.refs[name];\r\n                if (ref.isSelected()) {\r\n                    categories.push(ref.props.filter);\r\n                }\r\n            }\r\n        }\r\n        return categories;\r\n    }\r\n\r\n    render() {\r\n        var category = this.props.category;\r\n        var title = category.title;\r\n        var filters = category.filters;\r\n        var cFilters = [];\r\n        for (var i = 0, l = filters.length; i < l; i++) {\r\n            var filter = filters[i];\r\n            cFilters.push(<ServiceTypeFilterItem search={this.props.search} ref={\"filter\" + i} filter={filter } />);\r\n        }\r\n\r\n        return (\r\n            <div className=\"servicetype-filter\">\r\n                <div className=\"servicetype-filter-name\">{title}</div>\r\n                {cFilters}\r\n            </div>\r\n            );\r\n    }\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;IAAM,qB;;;AACF,mCAAY,KAAZ,EAAmB;AAAA;;AAAA;;AAEf,cAAK,KAAL,GAAa;AACT,sBAAU;AADD,SAAb;AAFe;AAKlB;;;;iCAEQ;AACL,iBAAK,KAAL,CAAW,MAAX;AACH;;;qCAEY;AACT,mBAAO,KAAK,KAAL,CAAW,QAAlB;AACH;;;qCAEY;AACT,gBAAI,CAAC,KAAK,KAAL,CAAW,QAAhB,EAA0B;AACtB,qBAAK,KAAL,CAAW,QAAX,GAAsB,IAAtB;AACA,qBAAK,MAAL;AACA,qBAAK,QAAL,CAAc,EAAE,UAAU,IAAZ,EAAd;AACH;AACJ;;;uCAEc;AACX,gBAAI,KAAK,KAAL,CAAW,QAAf,EAAyB;AACrB,qBAAK,KAAL,CAAW,QAAX,GAAsB,KAAtB;AACA,qBAAK,MAAL;AACA,qBAAK,QAAL,CAAc,EAAE,UAAU,KAAZ,EAAd;AACH;AACJ;;;iCAEQ;AACL,gBAAI,SAAS,KAAK,KAAL,CAAW,MAAxB;AACA,gBAAI,OAAO,OAAO,IAAlB;;AAEA,mBACI;AAAA;gBAAA,EAAK,WAAW,8BAA4B,KAAK,KAAL,CAAW,QAAX,GAAoB,QAApB,GAA6B,EAAzD,CAAhB;gBACI;AAAA;oBAAA,EAAM,SAAS,KAAK,UAAL,CAAgB,IAAhB,CAAqB,IAArB,CAAf;oBACK;AADL,iBADJ;gBAII,oBAAC,IAAD,CAAM,IAAN,IAAW,SAAS,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAApB,EAAkD,MAAK,cAAvD;AAJJ,aADJ;AAQH;;;;EA5C+B,MAAM,S;;IA+CpC,iB;;;AACF,+BAAY,KAAZ,EAAmB;AAAA;;AAAA;AAElB;;;;wCAEe;AACZ,gBAAI,aAAa,EAAjB;AACA,iBAAK,IAAI,IAAT,IAAiB,KAAK,IAAtB,EAA4B;AACxB,oBAAI,KAAK,UAAL,CAAgB,QAAhB,CAAJ,EAA+B;AAC3B,wBAAI,MAAM,KAAK,IAAL,CAAU,IAAV,CAAV;AACA,wBAAI,IAAI,UAAJ,EAAJ,EAAsB;AAClB,mCAAW,IAAX,CAAgB,IAAI,KAAJ,CAAU,MAA1B;AACH;AACJ;AACJ;AACD,mBAAO,UAAP;AACH;;;iCAEQ;AACL,gBAAI,WAAW,KAAK,KAAL,CAAW,QAA1B;AACA,gBAAI,QAAQ,SAAS,KAArB;AACA,gBAAI,UAAU,SAAS,OAAvB;AACA,gBAAI,WAAW,EAAf;AACA,iBAAK,IAAI,IAAI,CAAR,EAAW,IAAI,QAAQ,MAA5B,EAAoC,IAAI,CAAxC,EAA2C,GAA3C,EAAgD;AAC5C,oBAAI,SAAS,QAAQ,CAAR,CAAb;AACA,yBAAS,IAAT,CAAc,oBAAC,qBAAD,IAAuB,QAAQ,KAAK,KAAL,CAAW,MAA1C,EAAkD,KAAK,WAAW,CAAlE,EAAqE,QAAQ,MAA7E,GAAd;AACH;;AAED,mBACI;AAAA;gBAAA,EAAK,WAAU,oBAAf;gBACI;AAAA;oBAAA,EAAK,WAAU,yBAAf;oBAA0C;AAA1C,iBADJ;gBAEK;AAFL,aADJ;AAMH;;;;EAlC2B,MAAM,S"}